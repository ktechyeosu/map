<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>남강댐광역 관로선형</title>
    <!-- 카카오맵 API: 반드시 libraries=services 포함 -->
    <script type="text/javascript" src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=89f312af16e330f27a1f81061eaaeb39&libraries=services"></script>
</head>
<body>

<div id="map" style="width:100%;height:900px;"></div>

<p>
    <input type="checkbox" id="chkUseDistrict" onclick="setOverlayMapTypeId()" /> 지적편집도 정보 보기
    <input type="checkbox" id="chkTerrain" onclick="setOverlayMapTypeId()" /> 지형정보 보기 
    <input type="checkbox" id="chkTraffic" onclick="setOverlayMapTypeId()" /> 교통정보 보기       
    <input type="checkbox" id="chkBicycle" onclick="setOverlayMapTypeId()" /> 자전거도로 정보 보기
    <input type="checkbox" id="chkChungmu" onclick="setOverlayMapTypeId()" /> 충무계통
    <button onclick="hideMarkers()">마커 감추기</button>
    <button onclick="showMarkers()">마커 보이기</button>
</p>

<script>
window.onload = function() {
    // 카카오 객체 확인 (콘솔에 찍어보자)
    console.log("kakao 객체: ", kakao);

    if (typeof kakao === 'undefined') {
        console.error("카카오맵 SDK 로드 실패!");
        return;
    }

    var mapContainer = document.getElementById('map'); // 지도를 표시할 div 
    var mapOption = { 
        center: new kakao.maps.LatLng(35.0965312798627, 128.100994098256), // 지도의 중심좌표  
        level: 3 // 지도의 확대 레벨
    };

    // 지도 생성
    var map = new kakao.maps.Map(mapContainer, mapOption); 

    // 지도 타입 객체
    var mapTypes = {
        terrain : kakao.maps.MapTypeId.TERRAIN,    
        traffic : kakao.maps.MapTypeId.TRAFFIC,
        bicycle : kakao.maps.MapTypeId.BICYCLE,
        useDistrict : kakao.maps.MapTypeId.USE_DISTRICT
    };

    // 예시 함수: 오버레이 맵 타입 변경
    window.setOverlayMapTypeId = function() {
        for (var type in mapTypes) {
            var chk = document.getElementById('chk' + capitalizeFirstLetter(type));
            if (chk && chk.checked) {
                map.addOverlayMapTypeId(mapTypes[type]);
            } else {
                map.removeOverlayMapTypeId(mapTypes[type]);
            }
        }
    };

    // 예시 마커 숨기기/보이기
    window.hideMarkers = function() {
        console.log("마커 감추기 (아직 마커 없음)");
    };
    window.showMarkers = function() {
        console.log("마커 보이기 (아직 마커 없음)");
    };

    function capitalizeFirstLetter(string) {
        return string.charAt(0).toUpperCase() + string.slice(1);
    }
};
</script>

</body>
</html>
